<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/header.ejs') %>

    <body>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <style>


    .hide {
      display: none;
    }
  </style>


  <%- include('../partials/nav.ejs') %>

    <div class="container">
      
      <div class="row my-3">
        <div class="col-lg-8 col-md-7 list mb-5 ">
         <div class="border  " style="border-radius: 1rem;">
     
          <div class=" text-center pt-2">
            <img src="/uploads/profiles/<%= data["image"] %>"  alt="" srcset=""  style="width: 100%; max-width: 20rem; border-radius: 1rem"> 
          </div>
          
          <div class=" my-3 p-1 px-3 " style="border-top: 1px solid rgb(218, 218, 218);" >
            <h5 class="fw-bold mt-2" ><%= data["name"] %></h5>
            <p class="m-0" ><%= data["service"] %></p>
            <p class="text-muted mb-1"><%= data["address"] %></p>

            <!-- <h5>Rating</h5> -->
            <!-- <div class="border rounded p-2 " style="width: 5rem; "> -->
    
              <p class="m-0" > <i class="fa-solid fa-star " style="font-size: 1rem; color: gold;"></i> 5.2</p>  
              

              <a class="btn-sm btn btn-success mt-2 me-2 p-2 py-1" style="border-radius: 2rem; font-size: 1rem;" href= "https://wa.me/<%= data["contact"] %>"  type="submit"> <i class="fa-brands fa-whatsapp" style="font-size: 1.2rem;"></i>  Get Contact </a>
              <button class="btn-sm btn btn-primary mt-2 p-2 py-1" style="border-radius: 2rem; font-size: 1rem;" type="submit"><i class="fa-sharp fa-solid fa-share-nodes"></i> Share </button>         
           
          </div>
    
        
        </div>
        <div class=" my-2 p-1 px-3 border  " style="border-radius: 1rem;" >
          <h4 class="fw-bold mt-2" >Skills</h4>
          <p class="m-0" >PLUMBER</p>
          <p class="text-muted mb-1">Sink Repair</p>
          <p class="text-success mb-1"><i class="fa-sharp fa-solid fa-indian-rupee-sign"></i> 125</p>

        </div>

        <div class=" my-2 p-1 px-3 border  " style="border-radius: 1rem;" >
          <h4 class="fw-bold mt-2" >Reviews</h4>
          <form  action="/postcomment" method="POST">
            <div class="">
              <input type="hidden" name="name" id="name" value="<%= data["name"] %>"  >
              <textarea class="form-control" id="comment" name="comment" rows="3" placeholder="Comment here......"></textarea>
  
            </div>
            <button class="btn-sm btn btn-primary mt-2 me-2 p-2 py-1"  style="border-radius: 2rem; font-size: 1rem;"   type="submit"> Comment </button>

          </form>

          <hr>
          <div>
            <% comments.forEach(element => { %>
              <div class="border m-2 p-2 rounded" style="border-radius: 1rem;">
                <div class="d-flex">
                <img class="rounded-circle me-2" width="40px" src="<%= element["photo"]  %>" alt=""><p class="m-0 fw-bold mt-2" > <%= element["name"]  %> </p>
              </div>
                  <p class="mt-2 mx-2 mb-0"> <%= element["comment"]  %> </p>
                
              </div>
                
            <% }) %>
          </div>

        </div>

        </div>
       
          <div class=" col-lg-4 col-md-5 sidebar borderp-2 border " style="border-radius: 1rem;">
           
           
          </div>
          


        
      </div>

      <!-- <div class="phone hide">
        <form class="d-flex" role="search">
          <div class="d-flex border p-1 rounded">
            <i class="fa-solid fa-magnifying-glass m-2 " style="font-size:
              1.6rem;"></i>
            <input class="form-control me-2" style="border: none;
              background-color: lavender;" type="search"
              placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-primary" style="border-radius:
              2rem;" type="submit">Search</button>
          </div>
        </form>
        <button class="btn btn-outline-secondary" style="border-radius:
          2rem; background-color: black; color: aliceblue;" type="submit">Plumber</button>
        <button class="btn btn-outline-secondary" style="border-radius:
          2rem; background-color: black; color: aliceblue;" type="submit">Plumber</button>
        <button class="btn btn-outline-secondary" style="border-radius:
          2rem; background-color: black; color: aliceblue;" type="submit">Laundary</button>
        <button class="btn btn-outline-secondary" style="border-radius:
          2rem; background-color: black; color: aliceblue;" type="submit">Clothing</button>
      </div> -->


    </div>

    <div class="chin hide">


      <%- include('../partials/chin.ejs') %>
    </div>
    <script>
      // Check the viewport size
      var mq = window.matchMedia('(max-width: 600px)');

      // Function to handle changes to the viewport size
      function handleViewportChange(mq) {
        if (mq.matches) {
          // If viewport is less than 600px wide, add the new-class
          document.querySelector('.sidebar').classList.add('hide');
          document.querySelector('.sidebar').classList.remove('col-lg-4');
          document.querySelector('.sidebar').classList.remove('col-md-5');
          document.querySelector('.list').classList.add('col');
          document.querySelector('.list').classList.remove('col-lg-8');
          document.querySelector('.list').classList.remove('col-md-7');
          // document.querySelector('.phone').classList.remove('hide');
          document.querySelector('.chin').classList.remove('hide');


        } else {
          // If viewport is greater than 600px wide, remove the new-class
          document.querySelector('.sidebar').classList.remove('hide');
          document.querySelector('.sidebar').classList.add('col-lg-4');
          document.querySelector('.sidebar').classList.add('col-md-5');
          document.querySelector('.list').classList.remove('col');
          document.querySelector('.list').classList.add('col-lg-8');
          document.querySelector('.list').classList.add('col-md-7');

          // document.querySelector('.phone').classList.add('hide');
          document.querySelector('.chin').classList.add('hide');

        }
      }

      // Call the function on load and when the viewport size changes
      handleViewportChange(mq);
      mq.addListener(handleViewportChange);
    </script>
  </body>

                
                
  </html>